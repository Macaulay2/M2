-- See test/localgb-nn.m2
-- for actual tests.  The singular code is placed in
-- that file too.

R = singularLocus Proj(QQ[x,y,z]/(x^2*z-y^3))
R = singularLocus Proj(ZZ[x,y,z]/(y^2*z+y*z^2-x^3))

-- see also bugs/mike/5-localgb-slow.m2

kk = ZZ/101
R = kk{t,x,y,z}
F = 4*t^2*z+6*z^3*t+3*z^3+t*z
G = z^4*t^3*y + t^7
H = x^5 + y^4
M = matrix{{F,G,H}}
gbTrace=3
time gens(gb1 = gb M);
G = reverse flatten entries gens gb1
netList G
gbTrace=4

(a1 = (z^10*x^5*G#0 - t*G#4)) % gb1
(a1 = (z^10*x^5*G#0 - t*G#4)) % gb1

(x^4*G#3 - y*G#4) % gb1
(t*G#3 - y*z^10*G#0) % gb1
(y^3*G#3 - z^11*G#1) % gb1

(x^4*G#3 - y*G#4) % gb1
(t*G#3 - y*z^10*G#0) % gb1
(y^3*G#3 - z^11*G#1) % gb1

-----------------------------------------
-- second, harder example:
kk = ZZ/101
R = kk{t,x,y,z}
R = kk[t,x,y,z,MonomialOrder=>Weights=>4:-1,Global=>false]
F = 4*t^2*z+6*z^3*t+3*z^3+t*z
G = 5*t^2*z^7*y^3*x + 5*x^2*z^4*t^3*y + 3*t^7
H = 6*z*t^2*y + 2*x^8 + 6*z^2*y^2*t + 2*y^5
M = matrix{{F,G,H}}
time gens gb M;

gbTrace=3
gb1 = gb(M,DegreeLimit=>27);
leadTerm gb1;
G = reverse flatten entries gens gb1
SP = (gens gb1) * (syz leadTerm gb1)
S = flatten entries SP
toExternalString S_5

S_0 % gb1
S_1 % gb1
S_2 % gb1; -- this one is bad, at least for this choice (min alpha, min size)
S_3 % gb1
S_4 % gb1
S_5 % gb1; -- also bad
S_6 % gb1
S_7 % gb1
S_8 % gb1 -- also bad
S_9 % gb1
S_10 % gb1
S_11 % gb1 -- also bad
S_12 % gb1

apply(G, g -> first(degree g - degree leadTerm g))

      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      |        2      3       3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
o29 = |t*z + 4t z + 3z  + 6t*z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | 5      3          2 2         3      2   3    8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
      |y  - 12t y*z + 3t*y z  - 9t*y*z  - 18t y*z  + x                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | 7      3 2   4      2   3 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
      |t  - 32t x y*z  - 32t x*y z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | 2   11       13      12 3      10 5      8 7      5 2   7      6 9      3 2   9          3 10      4 11       2   11      2 13      11 5      9 7      7 9      4 2   9      2   3 10      5 11     2 2   11      3 13                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
      |x y*z   + 4t*z   + 49t  z  + 46t  z  - 33t z  - 26t x y*z  - 33t z  + 27t x y*z  + 45t*x*y z   + 28t z   - 2t*x y*z   - 32t z   + 23t  z  - 28t z  + 13t z  - 39t x y*z  - 11t x*y z   + 19t z   - 8t x y*z   + 21t z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | 4 15      2   16         17      13 4 3     11 4 5      12   7      9 4 7      6 2 5 7      10   9      7 4 9      4 2 5 9      2   7 10      8   11      5 2 2 11      5 4 11      2 2 5 11      5 2   12        7 12      6   13    3 2 2 13      3 4 13      2 5 13      3 2   14          4 14      4   15        4 15       2   16      2   17      12 4 5      10 4 7     11   9      8 4 9      5 2 5 9      10 11      9   11      6 4 11      3 2 5 11          7 12      7   13     4 2 2 13      4 4 13      2 5 13      4 2   14      2   4 14      5   15      2 4 15      2 2   16      3   17                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
      |y z   - 23x y*z   + 3t*y*z   + 50t  y z  - 8t  y z  - 39t  y*z  - 14t y z  + 25t x y z  - 16t  y*z  + 47t y z  + 31t x y z  - 43t x*y z   - 50t y*z   + 31t x y z   + 50t y z   + 32t x y z   - 16t x y*z   - 14x*y z   - 50t y*z   - t x y z   - 36t y z   + 50x y z   - 24t x y*z   - 42t*x*y z   + 21t y*z   - 10t*y z   - 9t*x y*z   - 24t y*z   - 26t  y z  + 23t  y z  - 8t  y*z  + 34t y z  - 13t x y z  - 42x  z   - 21t y*z   + 34t y z   - 37t x y z   - 28t*x*y z   + 35t y*z   - 4t x y z   + 14t y z   - t*x y z   - 24t x y*z   + 17t x*y z   - 11t y*z   - 24t y z   - 27t x y*z   + 41t y*z                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | 3 19      2 20       21      12   6 4      12 2 4 5      10   6 6     10 2 4 7      13 2 8      8   6 8      5 3 7 8      14 9      11 2   9      11 3 9      8 2 4 9      5 4 5 9      11 2 10      6   6 10      3 3 7 10      12 11      12 11      9 2   11     9 3 11      6 2 4 11      3 4 5 11       2 9 11      9 2 12      6 4   12    4   6 12        3 7 12      10 13      7 2   13    4 4 2 13      7 3 13      4 2 4 13        4 5 13      7 2 14     4 4   14     2 3 4 14      2   6 14      8 15      5 2   15      2 4 2 15     5 3 15      2 3 3 15     2 2 4 15      5 2 16     2 4   16      3   3 16      3 4 16        6 16      6 17     3 2   17      4 2 17      3 3 17      3 3 17      2 4 17      3 2 18      4   18          3 18     4 19        2   19       3 19        2 20      2 21      11   6 6      11 2 4 7    9   6 8      9 2 4 9     12 2 10      7   6 10     4 3 7 10      13 11    10 2   11      10 3 11      7 2 4 11      4 4 5 11     2 2 9 11      10 2 12      5   6 12      2 3 7 12      11 13     8 2   13     8 3 13      5 2 4 13      2 4 5 13      8 2 14     5 4   14      3 3 4 14      3   6 14    9 15      6 2   15      3 4 2 15     6 3 15      3 2 4 15      6 2 16      3 4   16        3 4 16          6 16    7 17      4 2   17        4 2 17     4 3 17        3 3 17       2 4 17      4 2 18        4   18      2   3 18      5 19     2 2   19      2 3 19      2 2 20      3 21                                                                                                                                                                                                                                     |
      |y z   - 23x z   + 3t*z   - 27t  x*y z  + 38t  x y z  + 20t  x*y z  + 2t  x y z  - 39t  x z  + 12t x*y z  + 37t x y z  + 49t  z  - 33t  x y*z  + 44t  y z  - 47t x y z  + 19t x y z  - 18t  x z   + 12t x*y z   - 19t x y z   - 24t  z   + 47x  z   - 23t x y*z   - 3t y z   - 37t x y z   - 11t x y z   + 2t*x y z   + 19t x z   - 31t x y*z   - t x*y z   + 29t*x y z   - 42t  z   - 19t x y*z   - t x y z   - 43t y z   - 41t x y z   - 42t*x y z   + 30t x z   + 4t x y*z   - 7t x y z   - 13t x*y z   + 40t z   + 12t x y*z   + 24t x y z   + 7t y z   - 21t x y z   + 8t x y z   - 39t x z   + 3t x y*z   - 28t x*y z   - 40x y z   - 28x*y z   + 49t z   + 6t x y*z   - 26x y z   - 20t y z   + 19x y z   - 48x y z   + 20t x z   + 39x y*z   - 42t*x*y z   - 7t z   - 49t*x y*z   - 6t*y z   + 28t*x z   - 30t z   + 10t  x*y z  - 44t  x y z  + t x*y z  - 31t x y z  - 8t  x z   + 32t x*y z   + 5t x y z   + 23t  z   + t  x y*z   - 35t  y z   + 42t x y z   - 22t x y z   + 4t x y z   - 24t  x z   + 39t x*y z   - 43t x y z   - 32t  z   + 3t x y*z   - 4t y z   + 42t x y z   + 17t x y z   + 26t x z   + 4t x y*z   - 28t x y z   + 45t x*y z   + t z   + 16t x y*z   + 49t x y z   - 6t y z   - 21t x y z   + 26t x z   - 46t x y*z   + 21t*x y z   + 45t*x*y z   + t z   + 10t x y*z   + 49t*x y z   + 7t y z   + 38t*x y z   + 5t*x y z   - 19t x z   - 23t*x y*z   + 17t x*y z   + 42t z   + 3t x y*z   - 16t y z   + 47t x z   + 29t z                                                                                                                                                                                                                                       |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | 4 20        2 21        2 21      12 3 6 4      12 4 4 5      10 3 6 6      10 4 4 7      13 4 8      8 3 6 8     5 5 7 8      14 2 9      11 4   9      11 2 3 9      8 4 4 9      5 6 5 9     11 4 10      6 3 6 10      3 5 7 10      12 2 11      14 11    9 4   11      12 2 11      9 2 3 11     6 4 4 11      3 6 5 11        4 9 11      9 4 12      6 6   12      4 3 6 12        5 7 12      10 2 13      7 4   13     10 2 13      4 6 2 13      7 2 3 13     4 4 4 13        6 5 13      7 4 14      4 6   14      2 5 4 14      2 3 6 14      8 2 15      5 4   15      8 2 15      2 6 2 15      5 2 3 15      2 5 3 15      2 4 4 15      5 4 16      2 6   16      3 3 3 16      5 4 16      3 6 16      6 2 17      3 4   17      6 2 17      6 2 17      3 2 3 17      5 3 17      4 4 17      3 4 18      6   18        3 3 18          5 18      4 2 19        4   19      4 2 19        2 3 19        4 20      2 2 21     2 2 21      11 3 6 6      11 4 4 7      9 3 6 8      9 4 4 9      12 4 10     7 3 6 10     4 5 7 10    13 2 11      10 4   11      10 2 3 11      7 4 4 11      4 6 5 11      2 4 9 11      10 4 12      5 3 6 12      2 5 7 12     11 2 13      8 4   13    11 2 13      8 2 3 13      5 4 4 13      2 6 5 13      8 4 14      5 6   14      3 5 4 14      3 3 6 14      9 2 15      6 4   15      9 2 15      3 6 2 15      6 2 3 15      3 4 4 15      6 4 16     3 6   16        5 4 16        3 6 16      7 2 17      4 4   17      7 2 17        6 2 17     4 2 3 17        5 3 17       4 4 17      4 4 18      6   18      2 3 3 18      2   5 18      5 2 19      2 4   19      5 2 19      2 2 3 19      2 4 20      3 2 21      3 2 21|
      |x z   + 35t*x z   - 13t*y z   - 12t  x y z  - 28t  x y z  - 36t  x y z  - 44t  x y z  + 50t  x z  + 39t x y z  - 6t x y z  + 33t  x z  + 19t  x y*z  + 42t  x y z  + 24t x y z  - 14t x y z  - 8t  x z   + 39t x y z   + 14t x y z   + 23t  x z   - 24x  z   + t x y*z   - 33t  y z   - 35t x y z   + 6t x y z   + 40t x y z   - 44t*x y z   - 14t x z   - 25t x y*z   + 22t x y z   - 32t*x y z   + 15t  x z   + 14t x y*z   + 2t  y z   + 22t x y z   + 37t x y z   - 7t x y z   + 15t*x y z   + 47t x z   + 13t x y*z   - 48t x y z   - 17t x y z   + 29t x z   + 39t x y*z   - 19t y z   - 23t x y z   - 19t x y z   - 43t x y z   + 26t x y z   + 50t x z   + 35t x y*z   + 10t x y z   - 29x y z   + 10x y z   + 33t x z   - 31t x y*z   - 19t y z   - 34x y z   + 24t x y z   - 14x y z   + 46x y z   - 36t x z   - 50x y*z   + 15t*x y z   - 20t*x*y z   - 48t x z   - 33t*x y*z   + 10t y z   - 13t*x y z   - 10t*x z   - 47t x z   + 3t y z   - 18t  x y z  - 42t  x y z  - 22t x y z  - 25t x y z  - 26t  x z   + 3t x y z   - 9t x y z   - t  x z   - 22t  x y*z   - 38t  x y z   - 15t x y z   - 21t x y z   + 13t x y z   + 23t  x z   - 50t x y z   + 37t x y z   - 3t  x z   + 35t x y*z   + t  y z   - 13t x y z   - 15t x y z   + 30t x y z   + 34t x z   + 13t x y*z   + 10t x y z   + 20t x y z   - 22t x z   - 49t x y*z   - 10t y z   + 33t x y z   + 31t x y z   - 43t x y z   + 34t x z   + 2t x y*z   + 43t*x y z   + 20t*x y z   - 22t x z   - 18t x y*z   - 17t y z   + 33t*x y z   - 2t x y z   - 28t*x y z   - 9t*x y z   + 14t x z   + t*x y*z   + 30t x y z   - 40t x*y z   - 15t x z   + 35t x y*z   + 14t y z   - 26t x y z   - 24t x z   - 32t x z   - 43t y z  |
      +--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

fdiv = (f) -> positions(G, g -> leadTerm f % leadTerm g == 0)
red = (i,f) -> (g := G_i; t := leadTerm f // leadTerm g; f - t*g)
alpha = (f) -> first(degree f - degree leadTerm f)

L = {{S_5, {}}}

fdiv L_0_0
L = flatten apply(L, x -> (y := fdiv x#0; apply(y, i -> {red_i x#0, append(x#1,i)})));
netList L
unique(L/first)
apply(fdiv S_5, i -> red_i S_5)

size(S_5)
fdiv(S_5,G)
red(S_5,G_0)
fdiv(oo,G)
S_5
a1 = S_5
a1 = S_5 - 12*t^2*y*z^15*G_0 -- only one
alpha a1
a2 = a1 + 23*y*z^5*G_3
alpha a2
S_2 - 12*t^3*y*z*G_2 


netList G
a1 = S_2 - 12*t^3*y*z*G_2 
a1 = a1 + 3*t^7*y^2*z*G_0 -9*t^7*y*z^2*G_0 - 12*t^8*y^2*z*G_0 + 18*t^8*y*z^2*G_0
a2 = a1 - 9*t^6*y^2*z^3*G_0 + 27*t^6*y*z^4*G_0 + 48*t^9*y^2*z*G_0 + 29*t^9*y*z^2*G_0 - 47 *t^7*y^2*z^3*G_0
a3 = a2 - 7*t^7*y*z^4*G_0 + 27*t^5*y^2*z^5*G_0 + 20*t^5*y*z^6*G_0
a3 = -a3
-- at this point this polynomial is added in
E1 = a3
a3
a3 - x^8*G_2

a1 % gb1

G_2 + 32*t^2*x^2*y*z^3*G_0 - 27*t^3*x^2*y*z^3*G_0 + 5*t*x^2*y*z^5*G_0

gbTrace=4
S_5 % gb1 -- also bad

toString ideal gens gb1

end
-----------------------------------------
-- The GB for the above problem, which singular gives:
kk = ZZ/101
R = kk[t,x,y,z,MonomialOrder=>Weights=>4:-1,Global=>false]
I = ideal"tz+4t2z+3z3+6tz3,
y5-12t3yz+3ty2z2-9tyz3-18t2yz3+x8,
t7-32t3x2yz4-32t2xy3z7,
x2yz11+4tz13+49t12z3+46t10z5-33t8z7-26t5x2yz7-33t6z9+27t3x2yz9+45txy3z10+28t4z11-2tx2yz11-32t2z13+23t11z5-28t9z7+13t7z9-39t4x2yz9-11t2xy3z10+19t5z11-8t2x2yz11+21t3z13,
y4z15-23x2yz16+3tyz17+50t13y4z3-8t11y4z5-39t12yz7-14t9y4z7+25t6x2y5z7-16t10yz9+47t7y4z9+31t4x2y5z9-43t2xy7z10-50t8yz11+31t5x2y2z11+50t5y4z11+32t2x2y5z11-16t5x2yz12-14xy7z12-50t6yz13-t3x2y2z13-36t3y4z13+50x2y5z13-24t3x2yz14-42txy4z14+21t4yz15-10ty4z15-9tx2yz16-24t2yz17-26t12y4z5+23t10y4z7-8t11yz9+34t8y4z9-13t5x2y5z9-42x10z11-21t9yz11+34t6y4z11-37t3x2y5z11-28txy7z12+35t7yz13-4t4x2y2z13+14t4y4z13-tx2y5z13-24t4x2yz14+17t2xy4z14-11t5yz15-24t2y4z15-27t2x2yz16+41t3yz17,
y3z19-23x2z20+3tz21-27t12xy6z4+38t12x2y4z5+20t10xy6z6+2t10x2y4z7-39t13x2z8+12t8xy6z8+37t5x3y7z8+35t11x2yz9-13t11y3z9-47t8x2y4z9+19t5x4y5z9-18t11x2z10+12t6xy6z10-19t3x3y7z10-39t12z11+47x12z11+4t9x2yz11-39t9y3z11-37t6x2y4z11-11t3x4y5z11+2tx2y9z11+19t9x2z12-31t6x4yz12-t4xy6z12+29tx3y7z12-16t10z13-38t7x2yz13+33t4x4y2z13+17t7y3z13-19t4x2y4z13-42tx4y5z13+30t7x2z14+4t4x4yz14+45t2xy6z14-50t8z15-7t5x2yz15-26t2x4y2z15+17t5y3z15-21t2x3y3z15+41t2x2y4z15-39t5x2z16+3t2x4yz16-40x3y4z16-28xy6z16-50t6z17+15t3x2yz17-13x4y2z17+7t3y3z17+19x3y3z17+2x2y4z17+20t3x2z18+39x4yz18-42txy3z18+21t4z19-46tx2yz19-8ty3z19+28tx2z20-24t2z21+10t11xy6z6-44t11x2y4z7+t9xy6z8-31t9x2y4z9-8t12x2z10+32t7xy6z10+5t4x3y7z10+2t10x2yz11+31t10y3z11+42t7x2y4z11-22t4x4y5z11+4t2x2y9z11-24t10x2z12+39t5xy6z12-43t2x3y7z12-8t11z13-20t8x2yz13-7t8y3z13+42t5x2y4z13+17t2x4y5z13+26t8x2z14+4t5x4yz14-26t3xy6z14-21t9z15-34t6x2yz15-t3x4y2z15-22t6y3z15+12t3x2y4z15+26t6x2z16-46t3x4yz16+21tx3y4z16+45txy6z16+35t7z17+24t4x2yz17-26tx4y2z17+30t4y3z17+38tx3y3z17+4tx2y4z17-19t4x2z18-23tx4yz18+17t2xy3z18-11t5z19+9t2x2yz19-20t2y3z19+47t2x2z20+41t3z21,
x4z20+35tx2z21-13ty2z21-12t12x3y6z4-28t12x4y4z5-36t10x3y6z6-44t10x4y4z7+50t13x4z8+39t8x3y6z8-6t5x5y7z8+38t11x4yz9-17t11x2y3z9+24t8x4y4z9-14t5x6y5z9-8t11x4z10+39t6x3y6z10+14t3x5y7z10+50t12x2z11-24x14z11+13t9x4yz11-33t12y2z11+50t9x2y3z11+6t6x4y4z11+40t3x6y5z11-44tx4y9z11-14t9x4z12-25t6x6yz12+22t4x3y6z12-32tx5y7z12+49t10x2z13+28t7x4yz13+2t10y2z13-19t4x6y2z13+30t7x2y3z13+14t4x4y4z13+15tx6y5z13+47t7x4z14+13t4x6yz14+20t2x3y6z14-11t8x2z15-48t5x4yz15-19t8y2z15-34t2x6y2z15-37t5x2y3z15-43t2x5y3z15+7t2x4y4z15+50t5x4z16+35t2x6yz16-29x5y4z16+10x3y6z16-11t6x2z17-27t3x4yz17-19t6y2z17-17x6y2z17+36t3x2y3z17-14x5y3z17-44x4y4z17-36t3x4z18-50x6yz18+15tx3y3z18-20txy5z18+43t4x2z19+2tx4yz19+10t4y2z19+31tx2y3z19-10tx4z20+23t2x2z21+3t2y2z21-18t11x3y6z6-42t11x4y4z7-22t9x3y6z8-25t9x4y4z9-26t12x4z10+3t7x3y6z10-9t4x5y7z10-44t10x4yz11+25t10x2y3z11-15t7x4y4z11-21t4x6y5z11+13t2x4y9z11+23t10x4z12-50t5x3y6z12+37t2x5y7z12-26t11x2z13+36t8x4yz13+t11y2z13-48t8x2y3z13-15t5x4y4z13+30t2x6y5z13+34t8x4z14+13t5x6yz14-34t3x3y6z14-43t9x2z15+41t6x4yz15-10t9y2z15+22t3x6y2z15-21t6x2y3z15+39t3x4y4z15+34t6x4z16+2t3x6yz16+43tx5y4z16+20tx3y6z16+38t7x2z17-23t4x4yz17-17t7y2z17-34tx6y2z17-3t4x2y3z17-28tx5y3z17+13tx4y4z17+14t4x4z18+tx6yz18+30t2x3y3z18-40t2xy5z18+40t5x2z19+4t2x4yz19+14t5y2z19-39t2x2y3z19-24t2x4z20+7t3x2z21-43t3y2z21"
gbTrace=3
gb1 = gb(I,DegreeLimit=>27);
leadTerm gb1;

-----------------------------------------
kk = ZZ/101
R = kk{t,x,y,z}
R = kk[t,x,y,z,MonomialOrder=>Weights=>4:-1,Global=>false]
F = 4*t^2*z+6*z^3*t+3*z^3+t*z
G = 5*t^2*z^7*y^3*x + 5*x^2*z^4*t^3*y + 3*t^7
H = 6*z*t^2*y + 2*x^8 + 6*z^2*y^2*t + 2*y^5
M = matrix{{F,G,H}}
gbTrace=3
time gens gb(M);
gb1 = gb(M,DegreeLimit=>27);
G = reverse flatten entries gens gb1
netList G
(t*G#6 - x^4*z^19*G#0) % gb1

S = kk[h,gens R,MonomialOrder=>Eliminate 1]
homogenize(substitute(gens gb1, S),h)
