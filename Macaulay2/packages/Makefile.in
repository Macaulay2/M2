# @configure_input@
PACKAGES = CacheFileName Dmodules
include ../../include/config.Makefile
VPATH = @srcdir@
srcdir = $(shell cd @srcdir@; pwd)
DOC=cache/doc
TEST=cache/tests
.PHONY : all check initialize clean distclean install
DOCFILES := eliminate.m2 D-modules/DMODdoc.m2
clean check distclean ::; $(MAKE) -C ComputationsBook $@
Makefile: Makefile.in; cd ../..; ./config.status Macaulay2/packages/Makefile
distclean::clean
distclean::; rm -f Makefile

all ::; @ set -e; \
	  for pkg in $(PACKAGES) ; \
	  do ( set -x ; M2 -q --stop -e "load \"$${pkg}.m2\" " -e "installPackage($${pkg}, Encapsulate => false, PackagePrefix => \"./tmp/\") " -e "exit 0" ) ; \
	  done
clean::; rm -rf tmp
install: all; tar cf - -C tmp . | tar xfpv - -C $(encapdir)

# Local Variables:
# compile-command: "make -C $M2BUILDDIR/Macaulay2/packages "
# End:
