#! /bin/rpm
Name: Macaulay2
URL: http://www.math.uiuc.edu/Macaulay2/
Version: @PACKAGE_VERSION@
Release: 1
Summary: Macaulay 2 is a software system for algebraic geometry research
License: GPLv2
Group: Applications/Engineering
Requires: Macaulay2-common = @PACKAGE_VERSION@
Buildroot: @abs_builddir@/files
Prefix: @FINALPREFIX@
%define _rpmdir ../../
%define _rpmfilename @PKG_RPM@
%define _unpackaged_files_terminate_build 1
%post
#!/bin/sh -e
prefix=@FINALPREFIX@
[ @DUMPDATA@ = yes -a -d $prefix/@corecachedirtail@ ] || mkdir $prefix/@corecachedirtail@
[ @DUMPDATA@ = yes ] && $prefix/bin/M2 --dumpdata
%preun
#! /bin/sh -e
prefix=@FINALPREFIX@
rm -f $prefix/@corecachedirtail@/*-data
rm -f $prefix/@corecachedirtail@/*-data.maps
%description
Macaulay 2 is a software system for algebraic geometry research, written by
Daniel R. Grayson and Michael E. Stillman.  Based on Groebner bases, it
provides algorithms for computing homological invariants of rings and
modules.
%files
# Local Variables:
# compile-command: "make -C $M2BUILDDIR/distributions/rpm "
# End:
